{"ast":null,"code":"import _objectSpread from \"/Users/shashikant/ReactComplete/crwn-clothing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/shashikant/ReactComplete/crwn-clothing/src/App.js\";\nimport React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from './pages/shop/shop.componet';\nimport Header from './components/header/header.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.unsubscribeFromAuth = null;\n    this.state = {\n      currentUser: null\n    };\n  }\n\n  componentDidMount() {\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        userRef.onSnapshot(snapShot => {\n          this.setState({\n            currentUser: _objectSpread({\n              id: snapShot.id\n            }, snapShot.data())\n          });\n          console.log(this.state);\n        });\n      }\n\n      this.setState({\n        currentUser: userAuth\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromAuth();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Header, {\n      currentUser: this.state.currentUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), \" \", React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: HomePage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), \" \", React.createElement(Route, {\n      path: \"/shop\",\n      component: ShopPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), \" \", React.createElement(Route, {\n      path: \"/signin\",\n      component: SignInAndSignUpPage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), \" \"), \" \");\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/shashikant/ReactComplete/crwn-clothing/src/App.js"],"names":["React","Switch","Route","HomePage","ShopPage","Header","SignInAndSignUpPage","auth","createUserProfileDocument","App","Component","constructor","unsubscribeFromAuth","state","currentUser","componentDidMount","onAuthStateChanged","userAuth","userRef","onSnapshot","snapShot","setState","id","data","console","log","componentWillUnmount","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,EAAiBC,KAAjB,QAA8B,kBAA9B;AACA,OAAOC,QAAP,MAAqB,qCAArB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,mBAAP,MAAgC,2DAAhC;AACA,SAASC,IAAT,EAAeC,yBAAf,QAAgD,2BAAhD;;AAGA,MAAMC,GAAN,SAAkBT,KAAK,CAACU,SAAxB,CAAkC;AAC9BC,EAAAA,WAAW,GAAG;AACV;AADU,SASdC,mBATc,GASQ,IATR;AAGV,SAAKC,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAE;AADJ,KAAb;AAIH;;AAIDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKH,mBAAL,GAA2BL,IAAI,CAACS,kBAAL,CAAwB,MAAMC,QAAN,IAAkB;AACjE,UAAIA,QAAJ,EAAc;AACV,cAAMC,OAAO,GAAG,MAAMV,yBAAyB,CAACS,QAAD,CAA/C;AAEAC,QAAAA,OAAO,CAACC,UAAR,CAAmBC,QAAQ,IAAI;AAC3B,eAAKC,QAAL,CAAc;AACVP,YAAAA,WAAW;AACPQ,cAAAA,EAAE,EAAEF,QAAQ,CAACE;AADN,eAEJF,QAAQ,CAACG,IAAT,EAFI;AADD,WAAd;AAMAC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAjB;AACH,SARD;AASH;;AAED,WAAKQ,QAAL,CAAc;AACVP,QAAAA,WAAW,EAAEG;AADH,OAAd;AAGH,KAlB0B,CAA3B;AAmBH;;AAEDS,EAAAA,oBAAoB,GAAG;AACnB,SAAKd,mBAAL;AACH;;AAEDe,EAAAA,MAAM,GAAG;AACL,WAAS;AACD,MAAA,SAAS,EAAG,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEL,oBACA,MADA;AACO,MAAA,WAAW,EAAK,KAAKd,KAAL,CAAWC,WADlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFK,OAIF,oBACH,MADG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEH,oBACA,KADA;AACM,MAAA,KAAK,MADX;AACY,MAAA,IAAI,EAAG,GADnB;AAEA,MAAA,SAAS,EAAKX,QAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFG,OAKA,oBACH,KADG;AACG,MAAA,IAAI,EAAG,OADV;AAEH,MAAA,SAAS,EAAKC,QAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALA,OAQA,oBACH,KADG;AACG,MAAA,IAAI,EAAG,SADV;AAEH,MAAA,SAAS,EAAKE,mBAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARA,MAJE,MAAT;AAmBH;;AA1D6B;;AA6DlC,eAAeG,GAAf","sourcesContent":["import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from './pages/shop/shop.componet';\nimport Header from './components/header/header.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\n\n\nclass App extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            currentUser: null,\n\n        }\n    }\n\n    unsubscribeFromAuth = null;\n\n    componentDidMount() {\n        this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n            if (userAuth) {\n                const userRef = await createUserProfileDocument(userAuth);\n\n                userRef.onSnapshot(snapShot => {\n                    this.setState({\n                        currentUser: {\n                            id: snapShot.id,\n                            ...snapShot.data()\n                        }\n                    });\n                    console.log(this.state);\n                });\n            }\n\n            this.setState({\n                currentUser: userAuth,\n            })\n        })\n    }\n\n    componentWillUnmount() {\n        this.unsubscribeFromAuth();\n    }\n\n    render() {\n        return ( <\n            div className = \"App\" >\n            <\n            Header currentUser = { this.state.currentUser }\n            /> <\n            Switch >\n            <\n            Route exact path = '/'\n            component = { HomePage }\n            /> <\n            Route path = '/shop'\n            component = { ShopPage }\n            /> <\n            Route path = '/signin'\n            component = { SignInAndSignUpPage }\n            /> <\n            /Switch> <\n            /div>\n        );\n    }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}